---
layout: posts
title: Linux下python的虚拟环境搭建
categories: python学习笔记
tags:
    - Linux
    - python虚拟环境
---
## 1.安装virtualenv
```
sudo pip3 install virtualenv
```
## 2.安装virtualenvwrapper
```
sudo pip3 install virtualenvwrapper
```
## 3.在~/.bashrc中添加以下三行：
```
export WORKON_HOME=$HOME/.virtualenvs
source /usr/local/bin/virtualenvwrapper.sh
export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
```
注意这里安装时所用命令为pip3所以上面第三行代码将Python版本路径设为/usr/bin/python3
## 4.运行:
```
source ~/.bashrc
```
<!-- more -->
## 5.创建python虚拟环境
```
mkvirtualenv [虚拟环境名称]
workon [虚拟环境名称]
```
创建python3虚拟环境
```
mkvirtualenv -p /usr/bin/python3 env34

```
查看当前Python版本
```
python --version
```
## 6.退出虚拟环境
```
deactivate
```
## 7.删除（先退出虚拟环境）
```
rmvirtualenv [虚拟环境名称]
```
## 报错解决
若报以下错误：
```
/usr/bin/python: No module named virtualenvwrapper  
virtualenvwrapper.sh: There was a problem running the initialization hooks.   
If Python could not import the module virtualenvwrapper.hook_loader,  
check that virtualenvwrapper has been installed for  
VIRTUALENVWRAPPER_PYTHON=/usr/bin/python and that PATH is  
set properly.  
```
进入virtualenvwrapper.sh找到以下内容：
```
# Locate the global Python where virtualenvwrapper is installed.
if [ "${VIRTUALENVWRAPPER_PYTHON:-}" = "" ]
then
    VIRTUALENVWRAPPER_PYTHON="$(command \which python)" 
fi
```
改为以下内容：
```
# Locate the global Python where virtualenvwrapper is installed.
if [ "${VIRTUALENVWRAPPER_PYTHON:-}" = "" ]
then
    VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
fi
```



## Django使用
### 创建项目
```
diango-admin startproject test1
```
### 创建应用
```
python manage.py startapp first_app
```
