---
layout: posts
title: 树莓派爬坑系列（三）使用USB录音设备进行录音
categories: 树莓派爬坑系列
tags:
  - 树莓派 
---
## 说明
  树莓派本身不带录音功能，即使连接有麦的耳机也不ok。所以需要另外购买麦克风设备
  可以是下面这种：
  ![麦克风](/images/micro.jpg)

## 第一步【连接】
    将麦克风插到树莓派上。

## 第二步【配置】
  树莓派没有设置默认的录音设备，而且我们需要使用不同的声卡进行录音和播放。
  所以需要进行配置。否则就可能出现下面这种报错：  
```
  raspberry rec FAIL formats: can't open input `default': snd_pcm_open error: No such file or directory
```
首先进入配置文件：
```
nano ~/.asoundrc
```
<!--more-->
把配置文件替换为以下内容：
```
pcm.!default {
type asym
    playback.pcm {
        type plug
        slave.pcm "hw:0,0"
      }
capture.pcm {
    type plug
    slave.pcm "hw:1,0"
    }
}
```
配置的意思为：输入使用声卡1（即USB声卡），输出使用板载的声卡0（这样耳机才能有声音）

## 第三步【使用】
录音：
```
rec temp.wav
```
播放：
```
mplayer temp.wav
```
其中录音、播放命令可视自己喜好选择

## 其它
* 1、查看播放设备：
```
aplay -l
```
* 2、查看录音设备
```
arecord -l
```
